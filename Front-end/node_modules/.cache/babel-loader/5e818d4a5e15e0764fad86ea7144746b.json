{"ast":null,"code":"import _classCallCheck from\"C:/Users/PC/Documents/GitHub/TeamDer/Front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/PC/Documents/GitHub/TeamDer/Front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/PC/Documents/GitHub/TeamDer/Front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/PC/Documents/GitHub/TeamDer/Front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url='https://teamder-app.herokuapp.com/students';var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);var _super=_createSuper(Register);function Register(props){var _this;_classCallCheck(this,Register);_this=_super.call(this,props);_this.state={//Basic info\nstudents:[],studentId:'',studentName:'',studentYear:'',//Detail \ndescription:'',specialtyExpertise:'',birthDate:'',major:'',studyingCourse:'',password:''};return _this;}//Read all students from list\n_createClass(Register,[{key:\"fetchData\",value:function fetchData(){var _this2=this;fetch(url).then(function(res){return res.json();}).then(function(json){var list=json.filter(function(s){return typeof s.studentId!=='undefined'&&s.studentId!==\"\";});_this2.setState({students:list});});}//render \n},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"handleChange\",value:function handleChange(e){var obj={};obj[e.target.name]=e.target.value;this.setState(obj);}},{key:\"save\",value:function save(){var _this3=this;// e.preventDefault()\nfetch(url).then(function(res){return res.json();});for(var i=0;i<this.state.students.length;i++){if(this.state.studentId===this.state.students[i].studentId){this.setState({message:\"Duplicated ID \"});return;}else if(this.state.studentName===this.state.students[i].studentName){this.setState({message:\"Duplicated Name \"});return;}}if(this.state.password.length<8){this.setState({message:\"Password needs to be at least 8 letters long \"});return;}else if(this.state.studentId!==\"\"&&this.state.studentName!==\"\"&&this.state.password!==\"\"){fetch(url,{method:'post',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({studentId:this.state.studentId,studentName:this.state.studentName,password:this.state.password})}).then(function(res){return res.json();}).then(function(json){return _this3.fetchData();});this.setState({message:\"Succesful Registered \"});}else{this.setState({message:\"Invalid Input \"});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 card border-info px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-weight-normal mb-0\",children:\"It is quick and easy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"studentId\",className:\"form-control\",placeholder:\"Register for User ID\",value:this.state.studentId,onChange:this.handleChange.bind(this)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"studentName\",className:\"form-control\",placeholder:\"Enter User Name\",value:this.state.studentName,onChange:this.handleChange.bind(this)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"password\",className:\"form-control\",placeholder:\"Register for Password\",value:this.state.password,onChange:this.handleChange.bind(this)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\" btn btn-info mb-2  \",onClick:this.save.bind(this),\"data-toggle\":\"modal\",\"data-target\":\"#myModal\",children:\"Register\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Already have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success ml-2 pt-2\",children:\" Login\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"myModal\",className:\"modal fade\",role:\"dialog\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(\"strong\",{children:this.state.message})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer p-0\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\",children:\"Close\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"})]});}}]);return Register;}(React.Component);export{Register as default};","map":{"version":3,"sources":["C:/Users/PC/Documents/GitHub/TeamDer/Front-end/src/components/Register.jsx"],"names":["React","Redirect","Link","url","Register","props","state","students","studentId","studentName","studentYear","description","specialtyExpertise","birthDate","major","studyingCourse","password","fetch","then","res","json","list","filter","s","setState","fetchData","e","obj","target","name","value","i","length","message","method","headers","body","JSON","stringify","handleChange","bind","save","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect, Link } from 'react-router-dom'\r\n\r\nconst url = 'https://teamder-app.herokuapp.com/students'\r\nexport default class Register extends React.Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            //Basic info\r\n            students: [],\r\n\r\n            studentId: '',\r\n            studentName: '',\r\n            studentYear: '',\r\n\r\n            //Detail \r\n            description: '',\r\n            specialtyExpertise: '',\r\n            birthDate: '',\r\n            major: '',\r\n            studyingCourse: '',\r\n\r\n            password: '',\r\n\r\n        }\r\n\r\n    }\r\n \r\n    //Read all students from list\r\n    fetchData() {\r\n        fetch(url).then(res => res.json())\r\n            .then(json => {\r\n\r\n                var list = json.filter(s => typeof s.studentId !== 'undefined' && s.studentId !== \"\")\r\n                this.setState({ students: list })\r\n            })\r\n    }\r\n\r\n    //render \r\n    componentDidMount() {\r\n        this.fetchData()\r\n    }\r\n\r\n    handleChange(e) {\r\n        var obj = {}\r\n        obj[e.target.name] = e.target.value\r\n        this.setState(obj)\r\n    }\r\n\r\n    save() {\r\n\r\n        // e.preventDefault()\r\n        fetch(url).then(res => res.json())\r\n        for (let i = 0; i < this.state.students.length; i++) {\r\n            if (this.state.studentId === this.state.students[i].studentId) {\r\n                this.setState({ message: \"Duplicated ID \" })\r\n                return\r\n            } else  if (this.state.studentName === this.state.students[i].studentName) {\r\n                this.setState({ message: \"Duplicated Name \" })\r\n                return\r\n            }\r\n\r\n        }   \r\n        if( this.state.password.length <8 ){\r\n            this.setState({ message: \"Password needs to be at least 8 letters long \" })\r\n            return\r\n        }    else if ((this.state.studentId !== \"\") &&( this.state.studentName !== \"\") &&(this.state.password !== \"\")) {\r\n            fetch(url, {\r\n                method: 'post',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({ studentId: this.state.studentId, studentName: this.state.studentName, password: this.state.password })\r\n            }).then(res => res.json())\r\n                .then(json => this.fetchData())\r\n            this.setState({ message: \"Succesful Registered \" })\r\n\r\n        } else {\r\n            this.setState({ message: \"Invalid Input \" })\r\n        }\r\n\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\"></div>\r\n                <div className=\"col-md-6 card border-info px-0\">\r\n                    <div className='card-header'>\r\n                        <h5>Register</h5>\r\n                        <p className='font-weight-normal mb-0'>It is quick and easy</p>\r\n                    </div>\r\n                    <div className='card-body'>\r\n                        <div className=\"form-group\">\r\n                            <label>User ID</label>\r\n                            <input type=\"text\" name=\"studentId\" className=\"form-control\" placeholder=\"Register for User ID\" value={this.state.studentId} onChange={this.handleChange.bind(this)}/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>User Name</label>\r\n                            <input type=\"text\" name=\"studentName\" className=\"form-control\" placeholder=\"Enter User Name\" value={this.state.studentName} onChange={this.handleChange.bind(this)}/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Password</label>\r\n                            <input type=\"text\" name=\"password\" className=\"form-control\" placeholder=\"Register for Password\" value={this.state.password} onChange={this.handleChange.bind(this)}/>\r\n                        </div>\r\n                        <div>\r\n                            <button type=\"button\" className=\" btn btn-info mb-2  \" onClick={this.save.bind(this)} data-toggle=\"modal\" data-target=\"#myModal\" >Register</button>\r\n                        </div>\r\n                        <div>\r\n                            Already have an account? \r\n                            <Link to=\"/Login\">\r\n                                <button className=\"btn btn-success ml-2 pt-2\"> Login</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"myModal\" className=\"modal fade\" role=\"dialog\">\r\n                    <div className=\"modal-dialog\">\r\n                        {/* Modeal content */}\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-body\">\r\n                                <h5 className='text-danger'><strong>{this.state.message}</strong></h5>\r\n                            </div>\r\n                            <div className=\"modal-footer p-0\">\r\n                                <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-3\"></div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}